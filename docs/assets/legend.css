:root{
  /* رنگ‌های تقریبی؛ در صورت داشتن پالت رسمی، بعداً جایگزین می‌کنیم */
  --c1:#FFF3B0; /* ۳۰۰–۱۵۰ */
  --c2:#F6C469; /* ۳۷۸–۳۰۱ */
  --c3:#E08A00; /* ۷۷۴–۳۷۹ */
  --c4:#A6641A; /* ۱۲۰۰–۷۵۵ */
  --kv132:#E76B6B;
  --kv400:#4FA26B;
  --road:#8D8D8D;
  --solar:#1F4B99;
  --center:#FFE84F;
}

/* مخصوص صفحه amaayesh */
.map-wrap{ position: relative; } /* برای شناورکردن legend روی نقشه */

.legend-floating{
  position:absolute; inset:auto 12px 12px auto; /* پایین-راست */
  z-index:1000;
  width:min(320px,calc(100% - 24px));
}

.solar-legend{
  background:#fff; color:#111827; direction:rtl;
  border:1px solid #e5e7eb; border-radius:16px;
  box-shadow:0 8px 22px rgba(0,0,0,.08);
  padding:16px 16px 10px; font-family:system-ui, sans-serif;
  font-size:14px; line-height:1.7;
}
.legend-header{font-weight:700; font-size:16px; margin-bottom:6px;}
.legend-title{font-weight:600; margin:10px 0 6px;}

.legend-classes li,.legend-symbols li{
  list-style:none; display:flex; align-items:center; gap:8px; margin:6px 0;
}
.swatch{width:22px; height:14px; border:1px solid #9ca3af; border-radius:2px;}
.swatch.c1{background:var(--c1);} .swatch.c2{background:var(--c2);}
.swatch.c3{background:var(--c3);} .swatch.c4{background:var(--c4);}

.line{display:inline-block; width:40px; height:0;}
.line.kv132{border-top:3px dashed var(--kv132);}
.line.kv400{border-top:3px dashed var(--kv400);}
.line.road {border-top:3px solid  var(--road);}

.symbol{display:inline-block; width:14px; height:14px;}
.symbol.solar-site{
  background:var(--solar); transform: rotate(45deg);
  border:1px solid #0f2e6f; border-radius:2px;
}
.symbol.county-center{
  background:var(--center); border:1px solid #000;
  border-radius:50%; position:relative;
}
.symbol.county-center::after{
  content:""; position:absolute; inset:0; margin:auto;
  width:4px; height:4px; background:#000; border-radius:50%;
}

/* دارک‌مود */
@media (prefers-color-scheme: dark){
  .solar-legend{ background:#0f172a; color:#e5e7eb; border-color:#1f2937; }
  .swatch{ border-color:#334155; }
}

/* neon border & chips reused */
.neon-edge { filter: drop-shadow(0 0 4px rgba(34,211,238,.9)); }
.ama-modes { display:flex; gap:8px; direction: rtl; }
.ama-modes .chip {
  display:flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid #e5e7eb;
  background:#fff; cursor:pointer; font-size:13px; box-shadow:0 2px 10px rgba(0,0,0,.06);
}
.ama-modes .chip.active { border-color:#22d3ee; box-shadow:0 0 0 3px rgba(34,211,238,.2) inset; }
@media (prefers-color-scheme: dark){
  .ama-modes .chip { background:#0b1220; border-color:#1f2937; color:#e5e7eb; }
}

/* Top-10 panel */
.ama-panel { width: 290px; max-height: 320px; overflow:auto; background: rgba(255,255,255,.95);
  border-radius: 14px; box-shadow: 0 6px 24px rgba(0,0,0,.15); direction: rtl; }
.ama-panel-hd { font-weight:700; padding:10px 12px; border-bottom:1px solid #e5e7eb; }
.ama-panel-bd { padding: 8px; }
#ama-top10 .ama-row { display:grid; grid-template-columns: 28px 1fr auto auto auto; gap:8px; align-items:center;
  padding:6px 8px; border-radius:10px; cursor:pointer; }
#ama-top10 .ama-row:hover { background:#f3f4f6; }
#ama-top10 .c { font-weight:700; text-align:center; }
#ama-top10 .n { font-weight:600; }
#ama-top10 .m, #ama-top10 .h, #ama-top10 .s { font-variant-numeric: tabular-nums; font-size:12px; opacity:.9; }
@media (prefers-color-scheme: dark){
  .ama-panel { background:#0f172a; color:#e5e7eb; border-color:#1f2937; }
  #ama-top10 .ama-row:hover { background:#111827; }
}

.ama-infra .box { background:rgba(255,255,255,.95); padding:8px 10px; margin-top:6px; border-radius:12px; box-shadow:0 6px 24px rgba(0,0,0,.15); direction:rtl; }
.ama-infra label { display:block; font-size:13px; margin:6px 0; }

